{% extends "base.html" %}

{% block content %}
<div class="container py-4">
    <div class="row">
        <div class="col-12">
            <h1 class="fw-bold mb-4">Property Analysis</h1>
        </div>
    </div>

    <!-- Analysis Tools -->
    <div class="row g-4 mb-4">
        <div class="col-lg-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Search Filters</h5>
                </div>
                <div class="card-body">
                    <form id="analysisForm">
                        <div class="mb-3">
                            <label for="location" class="form-label">Location</label>
                            <input type="text" class="form-control" id="location" placeholder="Enter city or zip code">
                        </div>
                        
                        <div class="mb-3">
                            <label for="priceRange" class="form-label">Price Range</label>
                            <select class="form-select" id="priceRange">
                                <option value="">Any Price</option>
                                <option value="0-200000">Under $200K</option>
                                <option value="200000-400000">$200K - $400K</option>
                                <option value="400000-600000">$400K - $600K</option>
                                <option value="600000-800000">$600K - $800K</option>
                                <option value="800000+">$800K+</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="propertyType" class="form-label">Property Type</label>
                            <select class="form-select" id="propertyType">
                                <option value="">Any Type</option>
                                <option value="single-family">Single Family</option>
                                <option value="condo">Condo</option>
                                <option value="townhouse">Townhouse</option>
                                <option value="multi-family">Multi-Family</option>
                            </select>
                        </div>
                        
                        <div class="row">
                            <div class="col-6">
                                <label for="bedrooms" class="form-label">Bedrooms</label>
                                <select class="form-select" id="bedrooms">
                                    <option value="">Any</option>
                                    <option value="1">1+</option>
                                    <option value="2">2+</option>
                                    <option value="3">3+</option>
                                    <option value="4">4+</option>
                                </select>
                            </div>
                            <div class="col-6">
                                <label for="bathrooms" class="form-label">Bathrooms</label>
                                <select class="form-select" id="bathrooms">
                                    <option value="">Any</option>
                                    <option value="1">1+</option>
                                    <option value="2">2+</option>
                                    <option value="3">3+</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <button type="submit" class="btn btn-primary w-100">Analyze Properties</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <div class="col-lg-8">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Analysis Results</h5>
                </div>
                <div class="card-body">
                    <div id="analysisResults">
                        <div class="text-center py-5">
                            <i class="fas fa-search fa-3x text-muted mb-3"></i>
                            <h5 class="text-muted">Enter search criteria to begin analysis</h5>
                            <p class="text-muted">Use the filters on the left to analyze properties in your target market</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Market Insights -->
    <div class="row g-4">
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Market Insights</h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-4">
                            <h4 class="text-primary">15%</h4>
                            <small class="text-muted">Price Growth YoY</small>
                        </div>
                        <div class="col-4">
                            <h4 class="text-success">28</h4>
                            <small class="text-muted">Avg Days on Market</small>
                        </div>
                        <div class="col-4">
                            <h4 class="text-info">92%</h4>
                            <small class="text-muted">List to Sale Ratio</small>
                        </div>
                    </div>
                    
                    <hr>
                    
                    <h6 class="mb-3">Market Trends</h6>
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span>Single Family Homes</span>
                        <span class="badge bg-success">Hot Market</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span>Condominiums</span>
                        <span class="badge bg-warning">Moderate</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span>Townhouses</span>
                        <span class="badge bg-success">Hot Market</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Investment Opportunities</h5>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <div class="list-group-item d-flex justify-content-between align-items-start">
                            <div class="ms-2 me-auto">
                                <div class="fw-bold">Downtown District</div>
                                High potential for appreciation
                            </div>
                            <span class="badge bg-primary rounded-pill">8.5/10</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-start">
                            <div class="ms-2 me-auto">
                                <div class="fw-bold">Suburban Growth Area</div>
                                Emerging neighborhood with growth
                            </div>
                            <span class="badge bg-success rounded-pill">7.8/10</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-start">
                            <div class="ms-2 me-auto">
                                <div class="fw-bold">Waterfront Properties</div>
                                Premium location with stable value
                            </div>
                            <span class="badge bg-info rounded-pill">7.2/10</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
<script>
    document.getElementById('analysisForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Show loading state
        const resultsDiv = document.getElementById('analysisResults');
        resultsDiv.innerHTML = `
            <div class="text-center py-5">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Analyzing...</span>
                </div>
                <h5 class="text-muted mt-3">Analyzing properties...</h5>
            </div>
        `;
        
        // Simulate API call
        setTimeout(() => {
            resultsDiv.innerHTML = `
                <div class="row g-3">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h5 class="text-primary">425</h5>
                                <small class="text-muted">Properties Found</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h5 class="text-success">$398,500</h5>
                                <small class="text-muted">Median Price</small>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-body text-center">
                                <h5 class="text-info">$215/sqft</h5>
                                <small class="text-muted">Price per Sq Ft</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4">
                    <h6>Top Properties</h6>
                    <div class="list-group">
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">123 Main Street</h6>
                                <small class="text-success">Best Value</small>
                            </div>
                            <p class="mb-1">3 bed, 2 bath • 1,850 sq ft • $450,000</p>
                            <small>15 days on market</small>
                        </div>
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">456 Oak Avenue</h6>
                                <small class="text-primary">High ROI</small>
                            </div>
                            <p class="mb-1">2 bed, 2 bath • 1,200 sq ft • $325,000</p>
                            <small>8 days on market</small>
                        </div>
                    </div>
                </div>
            `;
        }, 2000);
    });
</script>
{% endblock %}